# 음식점 리뷰 사이트 PRD (Product Requirements Document)

## 1. 제품 개요

### 1.1 목적
네이버 지도 기반 음식점 검색 및 사용자 리뷰 작성/조회 플랫폼

### 1.2 핵심 가치
- 지도 기반 직관적 음식점 탐색
- 간편한 리뷰 작성 및 공유
- 실시간 음식점 정보 검색

### 1.3 기술 스택
- **지도**: 네이버 지도 SDK
- **검색**: 네이버 장소 검색 API
- **데이터베이스**: Supabase
- **프론트엔드**: React (추천)

---

## 2. 포함 페이지

### 2.1 페이지 구성
```
1. 메인 페이지 (Map View)
   └─ 전체 화면 네이버 지도
   └─ 상단 검색 바

2. 모달 컴포넌트
   ├─ 장소 검색 결과 모달
   ├─ 장소 세부 정보 모달
   └─ 리뷰 작성 모달
```

### 2.2 페이지별 주요 기능

#### A. 메인 페이지 (Map View)
- 네이버 지도 표시 (초기 중심: 강남역)
- 상단 검색 바
- 리뷰 데이터 존재 업체 커스텀 마커 표시

#### B. 장소 검색 결과 모달
- 검색 결과 리스트 표시
- 스크롤 가능한 UI
- 항목 선택 시 지도 마커 연동
- "장소 세부 정보" 버튼

#### C. 장소 세부 정보 모달
- 업체 기본 정보 (이름, 주소, 전화번호)
- 평균 별점 (★★★★★, 5점 만점)
- 총 리뷰 개수
- 리뷰 목록 (작성자, 별점, 날짜, 내용)
- "리뷰 작성하기" 버튼

#### D. 리뷰 작성 모달
- 업체 정보 헤더
- 입력 폼:
  - 작성자명 (필수)
  - 별점 선택 (1~5, 필수)
  - 리뷰 내용 (최대 500자, 필수)
  - 비밀번호 (4자리 숫자, 필수)
- 유효성 검사
- Supabase 저장

---

## 3. 사용자 여정 (User Journey)

### 3.1 타겟 유저 Segment
- **일반 사용자**: 음식점을 찾고 리뷰를 참고하는 사용자
- **리뷰 작성자**: 방문 경험을 공유하려는 사용자

### 3.2 주요 사용자 플로우

#### Journey 1: 음식점 검색 및 정보 확인
```
1. [메인 페이지] 지도 로드 (강남역 중심)
2. [메인 페이지] 검색 바에 음식점명/지역 입력
3. [장소 검색 결과 모달] 검색 결과 리스트 확인
4. [장소 검색 결과 모달] 원하는 업체 선택 → 지도 마커 강조
5. [장소 검색 결과 모달] "장소 세부 정보" 버튼 클릭
6. [장소 세부 정보 모달] 업체 정보 및 리뷰 확인
7. [장소 세부 정보 모달] 모달 닫기 → [장소 검색 결과 모달] 복귀 또는 [메인 페이지] 복귀
```

#### Journey 2: 리뷰 작성
```
1. [장소 세부 정보 모달] "리뷰 작성하기" 버튼 클릭
2. [리뷰 작성 모달] 폼 입력
   - 작성자명 입력
   - 별점 선택 (1~5)
   - 리뷰 내용 작성 (최대 500자)
   - 비밀번호 입력 (4자리 숫자)
3. [리뷰 작성 모달] "리뷰 작성하기" 버튼 클릭
4. [시스템] 유효성 검사 실행
5. [시스템] Supabase에 리뷰 저장
6. [리뷰 작성 모달] 닫기 → [장소 세부 정보 모달] 복귀
7. [장소 세부 정보 모달] 업데이트된 리뷰 목록 및 평균 별점 표시
```

#### Journey 3: 지도 마커 탐색
```
1. [메인 페이지] 지도에서 커스텀 마커 확인
2. [메인 페이지] 마커 클릭
3. [장소 세부 정보 모달] 해당 업체 정보 및 리뷰 확인
```

---

## 4. IA (Information Architecture)

### 4.1 사이트 구조
```
ROOT (/)
│
├─ Map View (메인 페이지)
│  ├─ Search Bar
│  └─ Map with Markers
│
└─ Modal Layer
   ├─ Search Results Modal
   ├─ Place Detail Modal
   └─ Review Write Modal
```

### 4.2 모달 네비게이션 규칙
- **모달 외부 클릭**: 모달 닫기
- **Back Navigation**: 
  - Review Write → Place Detail
  - Place Detail → Search Results (검색 진입) OR Map View (마커 진입)
  - Search Results → Map View

---

## 5. 핵심 기능 명세

### 5.1 지도 기능
- 네이버 지도 SDK 초기화 (중심: 강남역)
- 커스텀 마커 표시 (리뷰 데이터 존재 업체)
- 마커 클릭 이벤트 → 장소 세부 정보 모달
- 검색 결과 선택 시 마커 강조

### 5.2 검색 기능
- 네이버 장소 검색 API 호출
- 검색 결과 리스트 렌더링
- 실시간 검색 가능

### 5.3 리뷰 기능
- **조회**: Supabase에서 업체별 리뷰 불러오기
- **작성**: 
  - 필수 항목 유효성 검사
  - 비밀번호 암호화 저장 권장
  - Supabase에 저장
- **통계**: 평균 별점 계산, 리뷰 개수 표시
