**음식점 리뷰 사이트 개발 요구사항**

1. 개요

목표: 네이버 지도 기반의 음식점 검색, 마커 표시 및 리뷰 작성 기능을 제공하는 웹 사이트 개발.
지도/검색: 지도 표시에 네이버 지도 SDK를 사용하고, 업체 정보 검색은 네이버 장소 검색 API를 사용한다.
데이터 저장: 리뷰 데이터 저장은 Supabase를 이용한다.

2. 페이지별 기능 및 플로우

A. 메인 (지도)

- 지도 표시: 네이버 지도 SDK를 사용하여 지도를 표시하며, 초기 중심점은 '강남역'으로 한다.
- 검색: 상단 장소 검색폼을 통해 업체 검색 시, 장소 검색 결과 모달창을 출력한다.
- 마커: 자체 리뷰 데이터가 존재하는 모든 업체는 커스텀 마커로 지도에 표시된다.
- 모달 닫기: 모달창 바깥 클릭 시 모달이 닫히고 메인 지도 화면이 표시된다.

B. 장소 검색 결과 (모달창)

- 출력: 네이버 장소 검색 API 결과를 스크롤링 가능한 리스트 형태로 표시한다.
- 연동: 리스트 항목 선택 시 해당 장소의 마커가 지도상에 강조되며 연동된다.
- 상세 이동: 업체 리스트 항목 하단의 장소 세부 정보 버튼을 클릭해야 장소 세부 정보 모달이 열린다.

C. 장소 세부 정보 (모달창)

- 정보 표시: 업체 이름, 주소, 전화번호 등 상세 정보가 표시된다.
- 리뷰 요약: 자체 리뷰를 기반으로 계산된 평균 별점 (총 별 다섯 개 중 노란색 표시)과 총 리뷰 개수를 표시한다.
- 리뷰 목록: 기존 작성된 리뷰 (작성자, 별점, 게시일자, 내용)가 표시된다.
- 리뷰 작성 진입: 리뷰 작성하기 버튼 클릭 시 리뷰 작성 모달창을 새로 연다.
- 모달 닫기 (복귀 로직): 모달을 닫으면 직전 상태 (장소 검색 결과 모달 혹은 메인 지도)로 돌아간다.

D. 리뷰 작성 (모달창)

- 업체 정보: 해당 업체 상세 정보가 상단에 표시된다.
- 입력 폼: 다음 항목들로 구성된다:
    - 작성자명
    - 별점 (1~5점 선택)
    - 리뷰 내용 (최대 500자 제한)
    - 비밀번호 (4자리 숫자, 필수 입력)
- 데이터 처리: 리뷰 작성하기 버튼 클릭 시, 필수 정보 유효성 검사 후 자체 데이터베이스에 리뷰를 저장한다.
- 완료 후 복귀: 작성 완료 후 리뷰 작성 모달을 닫고 직전의 장소 세부 정보 모달로 돌아가서 업데이트된 리뷰 목록과 평균 별점을 표시한다.